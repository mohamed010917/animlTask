<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Exam Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script type="module" src="ExamShow.js"></script>
  <script>
    tailwind.config = {
      darkMode: 'class'
    }
  </script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-100 min-h-screen">

<!-- Navbar -->
<nav class="bg-white dark:bg-gray-800 shadow px-6 py-4 flex justify-between items-center">
  <h1 class="text-xl font-bold">Exam System</h1>
  <div class="flex items-center gap-4">
    <button onclick="toggleDark()" class="px-3 py-1 rounded bg-gray-200 dark:bg-gray-700">
      üåô / ‚òÄÔ∏è
    </button>
    <span class="font-semibold">Teacher: Eman</span>
  </div>
</nav>

<!-- Page -->
<div class="max-w-6xl mx-auto p-6">

  <!-- Exam Info -->
  <div class="bg-white dark:bg-gray-800 rounded-xl shadow p-6 mb-6">
    <div class="flex justify-between items-center">
      <div>
        <h2 id="TitleExam" class="text-3xl font-bold"></h2>
        <p id="DurationExam" class="text-gray-500 dark:text-gray-400"></p>
      </div>
      <button onclick="startEditExam(),openModal('editExamModal')" class="bg-blue-600 text-white px-4 py-2 rounded-lg">Edit Exam</button>
    </div>
  </div>

  <!-- Questions -->
  <div class="bg-white dark:bg-gray-800 rounded-xl shadow p-6 mb-6">
    
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-2xl font-semibold">Questions</h3>
      <button onclick="openModal('addQuestionModal')" class="bg-green-600 text-white px-4 py-2 rounded-lg">+ Add Question</button>
      
    </div>
<div id="ParentContainer" class="border dark:border-gray-700 rounded-lg p-4 mb-4"> </div>
    <!-- Question -->
    <!-- <div class="border dark:border-gray-700 rounded-lg p-4 mb-4"> -->
      
    </div>
  </div>

  <!-- Students -->
  <div class="bg-white dark:bg-gray-800 rounded-xl shadow p-6">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-2xl font-semibold">Students</h3>
      <button id="buttonAddStudentIntoExam" onclick=" openModal('addStudentModal')" class="bg-green-600 text-white px-4 py-2 rounded-lg">+ Add Student</button>
    </div>

    <ul id="studentList" class="divide-y dark:divide-gray-700">

    </ul>
  </div>
</div>

<!-- Modals -->
<div id="editExamModal" class="modal hidden fixed inset-0 bg-black/50 flex items-center justify-center">
  <div class="bg-white dark:bg-gray-800 p-6 rounded-lg w-96">
    <h3 class="text-xl font-bold mb-4">Edit Exam</h3>
    <input type="hidden" id="edit_exam_id">
    <input id="Edit_Exam_Name" class="w-full mb-3 p-2 rounded bg-gray-100 dark:bg-gray-700" placeholder="Exam Name" />
    <input id="Edit_Exam_Duration" class="w-full mb-3 p-2 rounded bg-gray-100 dark:bg-gray-700" placeholder="Duration" />
    <div class="flex justify-end gap-2">
      <button onclick="closeModal('editExamModal')">Cancel</button>
      <button onclick="saveExamChanges()" class="bg-blue-600 text-white px-4 py-1 rounded">Save</button>
    </div>
  </div>
</div>

<div id="editQuestionModal" class="modal hidden fixed inset-0 bg-black/50 flex items-center justify-center">
  <div class="bg-white dark:bg-gray-800 p-6 rounded-lg w-96">
    <h3 class="text-xl font-bold mb-4">Edit Question</h3>
    <input type="hidden" id="EditId">
    <textarea id="QuestionText" class="w-full mb-3 p-2 rounded bg-gray-100 dark:bg-gray-700" placeholder="Question text"></textarea>
    <input id="editA" class="w-full mb-2 p-2 rounded bg-gray-100 dark:bg-gray-700" placeholder="Choice A" />
    <input id="editB" class="w-full mb-2 p-2 rounded bg-gray-100 dark:bg-gray-700" placeholder="Choice B" />
    <input id="editC" class="w-full mb-2 p-2 rounded bg-gray-100 dark:bg-gray-700" placeholder="Choice C" />
    <input id="editD" class="w-full mb-3 p-2 rounded bg-gray-100 dark:bg-gray-700" placeholder="Choice D" />
    <input id="editCorrectAnswer" class="w-full mb-3 p-2 rounded bg-gray-100 dark:bg-gray-700" placeholder="Correct Answer (a, b, c, or d)" />
    <div class="flex justify-end gap-2">
      <button onclick="closeModal('editQuestionModal')">Cancel</button>
      <button class="bg-blue-600 text-white px-4 py-1 rounded">Save</button>
    </div>
  </div>
</div>


<div id="addQuestionModal" class="modal hidden fixed inset-0 bg-black/50 flex items-center justify-center">
  <div class="bg-white dark:bg-gray-800 p-6 rounded-lg w-96">
    <h3 class="text-xl font-bold mb-4">Add Question</h3>
    <form>
    <div class="error questionError hidden rounded-xl text-red-700"></div>
                        <div class="hidden" id="IdExam"></div>
                        <div class="input-group mb-4">
                            <label for="question-text" class="block text-sm text-gray-700">Question Text</label>
                            <textarea id="questiontext" name="questionText" rows="3" class="mt-1 block w-full p-3 border border-gray-300 rounded-md resize-y focus:border-indigo-500 focus:ring focus:ring-indigo-500 focus:ring-opacity-50" novalidate></textarea>
                        </div>

                        <div class="input-group mb-6">
                            <label for="question-image" class="block text-sm text-gray-700">Image</label>
                            <div class="flex items-center mt-1 border border-gray-300 rounded-md overflow-hidden">
                                <input type="file" id="questionimage" name="questionImage" class="hidden">
                                <label for="question-image" class="bg-gray-200 text-gray-700 py-2 px-4 cursor-pointer hover:bg-gray-300 transition duration-150 border-l border-gray-300">
                                    Choose File
                                </label>
                                <span class="text-sm text-gray-500 p-2 truncate" id="file-name">No file chosen</span>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                            <div class="input-group">
                                <label for="choice-a" class="block text-sm text-gray-700">Choice 1</label>
                                <input type="text" id="choiceA" name="choiceA" novalidate class="mt-1 block w-full p-2 border border-gray-300 rounded-md">
                            </div>
                            <div class="input-group">
                                <label for="choice-b" class="block text-sm text-gray-700">Choice 2</label>
                                <input type="text" id="choiceB" name="choiceB" novalidate class="mt-1 block w-full p-2 border border-gray-300 rounded-md">
                            </div>
                            <div class="input-group">
                                <label for="choice-c" class="block text-sm text-gray-700">Choice 3</label>
                                <input type="text" id="choiceC" name="choiceC" novalidate class="mt-1 block w-full p-2 border border-gray-300 rounded-md">
                            </div>
                            <div class="input-group">
                                <label for="choice-d" class="block text-sm text-gray-700">Choice 4</label>
                                <input type="text" id="choiceD" name="choiceD" novalidate class="mt-1 block w-full p-2 border border-gray-300 rounded-md">
                            </div>
                        </div>

                        <div class="flex flex-col md:flex-row gap-6 mb-6">
                            <div class="input-group flex-1">
                                <label for="correct-answer" class="block text-sm text-gray-700">Correct Answer</label>
                                <select id="correctAnswer" name="correctAnswer" class="mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white" novalidate>
                                    <option value="a">Choice 1</option>
                                    <option value="b">Choice 2</option>
                                    <option value="c">Choice 3</option>
                                    <option value="d">Choice 4</option>
                                </select>
                            </div>
                            <div class="input-group flex-1">
                                <label for="score" class="block text-sm text-gray-700">Score</label>
                                <input type="number" id="scoreNewQuestion" name="score" placeholder="5" min="1" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" novalidate>
                            </div>
                            <div class="input-group flex-1">
                                <label for="difficulty" class="block text-sm text-gray-700">Level</label>
                                <select name="difficulty" id="difficulty" class="mt-1 block w-full p-2 border border-gray-300 rounded-md bg-green-50 text-green-700 font-bold text-center" novalidate>
                                    <option value="" disabled selected>Select Level</option>
                                    <option value="easy">Easy</option>
                                    <option value="medium">Medium</option>
                                    <option value="hard">Hard</option>
                                </select>
                            </div>
                        </div>
    <button onclick="AddNewQuestion()" class="bg-green-600 text-white px-4 py-1 rounded w-100">Add</button>
    <button onclick="closeModal('addQuestionModal')" class="bg-green-600 text-white px-4 py-1 rounded w-100">Cancel</button>
    </form>
  </div>
</div>


<div id="addStudentModal" class="modal hidden fixed inset-0 bg-black/50 flex items-center justify-center">
  <div class="bg-white dark:bg-gray-800 p-6 rounded-lg w-96">
    <h3 class="text-xl font-bold mb-4">Add Student</h3>
    <input id="newIdStudentIntoExam" class="w-full mb-3 p-2 rounded bg-gray-100 dark:bg-gray-700" placeholder="Student ID" />
    <button onclick="addStudentIntoExam(),closeModal('addStudentModal')" class="bg-green-600 text-white px-4 py-1 rounded w-full">Add</button>
  </div>
</div>

<script>
function openModal(id){ document.getElementById(id).classList.remove('hidden') }
function closeModal(id){ document.getElementById(id).classList.add('hidden') }
function toggleDark(){ document.documentElement.classList.toggle('dark') }
</script>

</body>
</html>